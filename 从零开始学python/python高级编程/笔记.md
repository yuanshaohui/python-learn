# python高级编程

## 1. 网络--udp

- **概述**：软件之间数据传递，即进程通信。
- **信息**：原ip、目标ip、源端口、目标端口

- **ip**：网卡的网络位置
- **端口**：用来区分不同程序的网络通信
  - 知名端口（小于1024）
  - 动态端口（1024----65535）

- **socket简介**：

  - 功能：用来进程之间的通信

  - 演示：发送

    ```python
    import socket
    def main():
        # 创建upd套接字
        socket_udp = socket.socket(socket.AF_INET, socket.NI_DGRAM)
    
    
        while True:
            # 输入的数据
            send_data = input("请输入要发送的数据：")
            
    
            # 条件跳出
            if send_data == "exit":
                break
    
    
            # 可以使用套接字收发数据
            # socket_udp.sendto(b"这是发送的内容", ("ip", ))
            socket_udp.sendto(send_data.encode("utf-8"), ("192.168.0.1",8080 ))
            
    
        # 关闭套接字
        socket_udp.close()
    
        # 显示执行过了
        print("-----已启动-----")
    
    
    def if __name__ == "__main__":
        pass
    ```

    

  - 演示：接收

    ```python
    import socket
    
    def main():
        # 1. 创建套接字
        udp_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    
        # 2. 绑定端口
        local_addr = ("", 7788)
        udp_socket.bind(local_addr)
    
        # 3. 接收数据
        recv_data = udp_socket.recvfrom(1024)  # 1024表示接受的最大数据
        recv_msg = recv_data[0]  # 因为接收到的是一个元组（"内容", （发送方的ip, 发送方的端口））
        recv_addr = recv_data[1]
    
        # 4. 打印内容
        print("%s:%s" % (str(recv_addr), recv_msg.decode("utf-8")))
    
        # 5. 关闭套接字
        udp_socket.close()
    
        # 6. 显示执行过了
        print("已经执行过了接收")
    
    # 测试函数
    if __name__ == "__main__":
        main()
        pass
    ```

    